<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portfolio | Midex Studio</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0d0d1a;
      --card:#0f1722;
      --muted:#a8b0bd;
      --accent:#00fff5;
      --accent-2:#ffd700;
      --glass: rgba(255,255,255,0.03);
      --radius:12px;
      --transition: all .35s cubic-bezier(.2,.9,.2,1);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Poppins',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:var(--bg);
      color:#eef2f7;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
    }

    /* ---------- NAV ---------- */
    header{
      position:sticky; top:0; z-index:60;
      backdrop-filter: blur(6px);
      background: linear-gradient(180deg, rgba(10,10,18,0.6), rgba(10,10,18,0.35));
      border-bottom: 1px solid rgba(255,255,255,0.03);
    }
    .nav-inner{
      max-width:1200px; margin:0 auto; padding:12px 20px;
      display:flex; align-items:center; justify-content:space-between;
    }
    .brand{font-weight:700; color:var(--accent); letter-spacing:0.4px}
    nav a{color:#e6eef6; text-decoration:none; margin-left:18px; font-weight:500; opacity:.95}
    nav a:hover{color:var(--accent)}
    .nav-right{display:flex; align-items:center}

    /* ---------- HERO ---------- */
    .hero {
      min-height:48vh;
      display:flex; align-items:center; justify-content:center;
      text-align:center;
      background-image:
        linear-gradient(180deg, rgba(8,8,12,0.55), rgba(8,8,12,0.55)),
        url('https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1560&q=80');
      background-size:cover; background-position:center;
      background-attachment: fixed; /* fixed parallax-like effect (desktop) */
      padding: 72px 20px;
    }
    .hero-inner{max-width:1000px}
    .hero h1{font-size:clamp(28px,4vw,44px); margin:0 0 12px; color:#fff; text-shadow:0 8px 30px rgba(0,0,0,0.6)}
    .hero p{color:var(--muted); margin:0 0 18px; font-size:1.05rem}
    .hero .btn{
      display:inline-flex; gap:10px; align-items:center;
      background:linear-gradient(90deg,var(--accent),#00b3ff);
      color:#001; padding:12px 18px; border-radius:10px; font-weight:600;
      text-decoration:none; box-shadow:0 10px 30px rgba(0,200,255,0.08);
      transition:transform .18s ease;
    }
    .hero .btn:hover{transform:translateY(-4px)}

    /* ---------- LAYOUT / SECTIONS ---------- */
    main{max-width:1200px; margin: 40px auto; padding: 0 20px 80px;}
    section{margin-bottom:56px}
    h2.section-title { color:var(--accent); text-align:center; margin-bottom:18px; font-size:1.6rem; }
    p.lead{color:var(--muted); text-align:center; max-width:900px; margin:0 auto 22px}

    /* ---------- FILTERS ---------- */
    .filters{display:flex; gap:12px; justify-content:center; margin-bottom:18px; flex-wrap:wrap}
    .filters button{
      background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.04);
      padding:10px 14px; border-radius:999px; cursor:pointer; transition:var(--transition); font-weight:600;
    }
    .filters button.active{background:linear-gradient(90deg,var(--accent),#00b3ff); color:#001; border-color:transparent; box-shadow:0 8px 30px rgba(0,200,255,0.06)}

    /* ---------- PORTFOLIO GRID ---------- */
    .grid{
      display:grid; gap:18px;
      grid-template-columns: repeat(auto-fit, minmax(260px,1fr));
      align-items:start;
    }
    .card{
      background:var(--card); border-radius:var(--radius); overflow:hidden;
      box-shadow: 0 6px 20px rgba(2,6,23,0.6);
      transform: translateY(0); transition:var(--transition); position:relative;
    }
    .card:hover{ transform:translateY(-8px) }
    .thumb{
      height:200px; width:100%; object-fit:cover; display:block;
      background:#0b0b0f;
    }
    .card-body{ padding:14px }
    .meta{display:flex; align-items:center; gap:10px; color:var(--muted); font-size:.92rem}
    .card h3{margin:10px 0 8px; color:var(--accent-2); font-size:1.05rem}
    .overlay {
      position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
      background:linear-gradient(180deg,rgba(0,0,0,0.0), rgba(0,0,0,0.55));
      opacity:0; transition:opacity .28s ease;
    }
    .card:hover .overlay{opacity:1}
    .overlay .view {
      background:rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.06);
      padding:10px 14px; border-radius:10px; color:#fff; backdrop-filter:blur(4px);
      display:flex; gap:10px; align-items:center;
    }
    .overlay .view svg{width:18px;height:18px;fill:#fff;opacity:.95}

    /* ---------- BRAND CARDS (detailed logos) ---------- */
    .brands-grid{
      display:grid; gap:16px;
      grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
    }
    .brand{
      display:flex; gap:12px; background:var(--card); padding:14px; border-radius:12px; align-items:flex-start;
      transition:transform .25s ease, box-shadow .25s ease;
    }
    .brand:hover{transform:translateY(-6px); box-shadow:0 14px 40px rgba(0,0,0,0.5)}
    .brand .logo{
      width:72px; height:72px; display:flex; align-items:center; justify-content:center;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:10px; padding:8px;
    }
    .brand .logo img{max-width:100%; max-height:100%; object-fit:contain; filter:brightness(1)}
    .brand .bd h4{margin:0; color:var(--accent); font-size:1.05rem}
    .brand .bd p{margin-top:6px; color:var(--muted); font-size:.95rem}

    /* ---------- PROCESS (icons animated) ---------- */
    .process{
      display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:18px; align-items:start;
    }
    .proc{
      background:var(--card); padding:18px; border-radius:12px; text-align:center;
      transition:transform .28s;
    }
    .proc:hover{transform:translateY(-8px)}
    .proc .icon{
      width:70px; height:70px; margin:0 auto 12px; border-radius:14px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      display:flex; align-items:center; justify-content:center;
      font-size:28px; color:var(--accent);
      animation:float 3.5s ease-in-out infinite;
    }
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}

    /* ---------- TESTIMONIALS ---------- */
    .testimonials{display:grid; grid-template-columns:1fr; gap:16px}
    .testi{background:var(--card); padding:18px; border-radius:12px}
    .quote{font-style:italic; color:var(--muted)}
    .by{margin-top:10px; font-weight:600; color:#fff}

    /* ---------- CASE STUDY & VIDEO ---------- */
    .case{
      display:flex; gap:18px; flex-wrap:wrap; align-items:center;
    }
    .case img{max-width:540px; width:100%; border-radius:12px}
    .case .case-body{flex:1; min-width:260px}
    .video-embed{border-radius:12px; overflow:hidden; background:#000}

    /* ---------- CTA ---------- */
    .big-cta{background:linear-gradient(90deg,var(--accent),#00b3ff); color:#001; padding:34px; border-radius:14px; text-align:center}
    .big-cta h3{margin:0 0 8px}
    .big-cta a{margin-top:10px; display:inline-block; padding:12px 20px; background:#001; color:var(--accent); border-radius:10px; text-decoration:none; font-weight:700}

    /* ---------- LIGHTBOX ---------- */
    .lb{
      position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:120;
      background:rgba(0,0,0,0.9); padding:20px;
    }
    .lb.open{display:flex}
    .lb img, .lb video{max-width:92%; max-height:86%; border-radius:10px; box-shadow:0 30px 80px rgba(0,0,0,0.7)}
    .lb .close{position:absolute; top:18px; right:22px; color:#fff; font-size:28px; cursor:pointer; background:transparent; border:none}
    .lb .meta{position:absolute; bottom:28px; left:28px; color:var(--muted) ; font-size:.95rem}

    /* ---------- RESPONSIVE ---------- */
    @media (max-width:900px){
      .hero{padding:48px 18px}
      .card .thumb{height:170px}
    }
    @media (max-width:620px){
      nav a{display:none}
      .brand .logo{width:56px;height:56px}
    }

    /* small entrance animation */
    .reveal{opacity:0; transform:translateY(18px); transition:opacity .7s ease, transform .7s ease}
    .reveal.in-view{opacity:1; transform:none}
  </style>
</head>
<body>

  <!-- NAV -->
  <header>
    <div class="nav-inner">
      <div class="brand">Midex Studio</div>
      <nav class="nav-right">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="services.html">Services</a>
        <a href="portfolio.html">Portfolio</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-inner reveal in-view">
      <h1>Our Creative Portfolio</h1>
      <p class="lead">Work in 3D product animation, jewelry CGI, cinematic VFX and photoreal product visualization ‚Äî crafted to convert.</p>
      <a class="btn" href="#portfolio-grid">
        <!-- simple inline icon -->
        <svg width="16" height="16" viewBox="0 0 24 24" style="opacity:.95"><path d="M12 2L15 8h6l-4.5 3.5L19 20l-7-4-7 4 1.5-8.5L3 8h6z" fill="#001"/></svg>
        Explore Work
      </a>
    </div>
  </section>

  <main>

   <!-- Filters -->
        <section>
      <h2 class="section-title">Portfolio Spotlight</h2>
      <p class="lead">Filter by category to quickly find the work relevant to your project.</p>
  <div class="filters" role="tablist" aria-label="Portfolio filters">
    <button class="active" data-filter="all" role="tab" aria-selected="true">All</button>
    <button data-filter="product" role="tab">3D Product Animation</button>
    <button data-filter="jewelry" role="tab">Jewelry CGI</button>
    <button data-filter="ai" role="tab">AI Animation</button>
    <button data-filter="fluid" role="tab">3D Water / Fluid</button>
    <button data-filter="vfx" role="tab">3D CGI & VFX</button>
  </div>

  <!-- Grid (20 items: each category => 2 images, 2 videos) -->
  <div id="portfolioGrid" class="grid" aria-live="polite">

    <!-- ====== PRODUCT (product1..4) ====== -->
    <article class="card fade-in-up" data-category="product" tabindex="0">
      <img class="thumb" src="img21.jpg" alt="Sleek perfume bottle product render">
      <div class="overlay"><button class="view" data-type="image" data-src="product1-large.jpg"><svg viewBox="0 0 24 24"><path d="M12 5v14M5 12h14"/></svg> View</button></div>
      <div class="card-body">
        <div class="meta">3D Product ‚Ä¢ Commercial</div>
        <h3>Luxury Perfume Render</h3>
        <p>Fluid sims and studio lighting for premium branding.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="product" tabindex="0">
      <img class="thumb" src="img24.jpg" alt="Tech gadget product render">
      <div class="overlay"><button class="view" data-type="image" data-src="product2-large.jpg">View</button></div>
      <div class="card-body">
        <div class="meta">3D Product ‚Ä¢ Commercial</div>
        <h3>Concept Gadget Showcase</h3>
        <p>Rotating hero shot with stylized highlights.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="product" tabindex="0">
      <video class="thumb" muted playsinline preload="metadata" src="Drink Product.mp4"></video>
      <div class="overlay"><button class="view" data-type="video" data-src="product1.mp4">View</button></div>
      <div class="card-body">
        <div class="meta">3D Product ‚Ä¢ Motion</div>
        <h3>Product Motion Reel 1</h3>
        <p>Short cinematic motion piece for campaign use.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="product" tabindex="0">
      <video class="thumb" muted playsinline preload="metadata" src="Product motion.mp4"></video>
      <div class="overlay"><button class="view" data-type="video" data-src="product2.mp4">View</button></div>
      <div class="card-body">
        <div class="meta">3D Product ‚Ä¢ Motion</div>
        <h3>Product Motion Reel 2</h3>
        <p>Cutdown edit optimized for social platforms.</p>
      </div>
    </article>

    <!-- ====== JEWELRY (jewelry1..4) ====== -->
    <article class="card fade-in-up" data-category="jewelry" tabindex="0">
      <img class="thumb" src="img17.jpg" alt="Diamond ring close-up">
      <div class="overlay"><button class="view" data-type="image" data-src="jewelry1-large.jpg">View</button></div>
      <div class="card-body">
        <div class="meta">Jewelry ‚Ä¢ 3D</div>
        <h3>Necklace Macro Shot</h3>
        <p>Microfacet highlights and realistic dispersion.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="jewelry" tabindex="0">
      <img class="thumb" src="img22.jpg" alt="Luxury watch product render">
      <div class="overlay"><button class="view" data-type="image" data-src="jewelry2-large.jpg">View</button></div>
      <div class="card-body">
        <div class="meta">Jewelry ‚Ä¢ 3D</div>
        <h3>Luxury Ring Still</h3>
        <p>Studio-lit editorial render for high-end placement.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="jewelry" tabindex="0">
      <video class="thumb" muted playsinline preload="metadata" src="r.mp4"></video>
      <div class="overlay"><button class="view" data-type="video" data-src="jewelry1.mp4">View</button></div>
      <div class="card-body">
        <div class="meta">Jewelry ‚Ä¢ Motion</div>
        <h3>Ring Reveal Reel</h3>
        <p>Slow reveals, sparkle passes, and cinematic framing.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="jewelry" tabindex="0">
      <video class="thumb" muted playsinline preload="metadata" src="Gem cut.mp4"></video>
      <div class="overlay"><button class="view" data-type="video" data-src="jewelry2.mp4">View</button></div>
      <div class="card-body">
        <div class="meta">Jewelry ‚Ä¢ Motion</div>
        <h3>Gem Cut Sequence</h3>
        <p>Macro gem rotations and studio motion loops.</p>
      </div>
    </article>

    <!-- ====== AI (ai1..4) ====== -->
    <article class="card fade-in-up" data-category="ai" tabindex="0">
      <img class="thumb" src="img14.jpg" alt="AI-driven generative animation still">
      <div class="overlay"><button class="view" data-type="image" data-src="ai1-large.jpg">View</button></div>
      <div class="card-body">
        <div class="meta">AI ‚Ä¢ Animation</div>
        <h3>Generative Product Art</h3>
        <p>AI-driven forms and procedural textures.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="ai" tabindex="0">
      <img class="thumb" src="img15.jpg" alt="Futuristic AI hologram still">
      <div class="overlay"><button class="view" data-type="image" data-src="ai2-large.jpg">View</button></div>
      <div class="card-body">
        <div class="meta">AI ‚Ä¢ Animation</div>
        <h3>Holographic UI Study</h3>
        <p>Stylized interfaces and neural art direction.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="ai" tabindex="0">
      <video class="thumb" muted playsinline preload="metadata" src="aiwatch.mp4"></video>
      <div class="overlay"><button class="view" data-type="video"src="ai1.mp4">View</button></div>
      <div class="card-body">
        <div class="meta">AI ‚Ä¢ Motion</div>
        <h3>Neural Flow Reel</h3>
        <p>Procedural animations driven by generative AI.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="ai" tabindex="0">
      <video class="thumb" muted playsinline preload="metadata" src="Choco Biscuits.mp4"></video>
      <div class="overlay"><button class="view" data-type="video" data-src="ai2.mp4">View</button></div>
      <div class="card-body">
        <div class="meta">AI ‚Ä¢ Motion</div>
        <h3>AI Morph Sequence</h3>
        <p>Organic morphs and generative motion loops.</p>
      </div>
    </article>

    <!-- ====== FLUID (fluid1..4) ====== -->
    <article class="card fade-in-up" data-category="fluid" tabindex="0">
      <img class="thumb" src="img18.jpg" alt="Water splash simulation still">
      <div class="overlay"><button class="view" data-type="image" data-src="fluid1-large.jpg">View</button></div>
      <div class="card-body">
        <div class="meta">Fluid ‚Ä¢ Simulation</div>
        <h3>Crystal Water Splash</h3>
        <p>High-fidelity water sims with photoreal shading.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="fluid" tabindex="0">
      <img class="thumb" src="img19.jpg" alt="Liquid wrap product still">
      <div class="overlay"><button class="view" data-type="image" data-src="fluid2-large.jpg">View</button></div>
      <div class="card-body">
        <div class="meta">Fluid ‚Ä¢ Simulation</div>
        <h3>Beach Foam Shot</h3>
        <p>Full frame ocean beach wrapping with foam passes.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="fluid" tabindex="0">
      <video class="thumb" muted playsinline preload="metadata" src="ocean dynamics.mp4"></video>
      <div class="overlay"><button class="view" data-type="video" data-src="fluid1.mp4">View</button></div>
      <div class="card-body">
        <div class="meta">Fluid ‚Ä¢ Motion</div>
        <h3>Ocean Dynamics</h3>
        <p>Complex sims rendered with multiple passes.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="fluid" tabindex="0">
      <video class="thumb" muted playsinline preload="metadata" src="Ribbon water.mp4"></video>
      <div class="overlay"><button class="view" data-type="video" data-src="fluid2.mp4">View</button></div>
      <div class="card-body">
        <div class="meta">Fluid ‚Ä¢ Motion</div>
        <h3>Ribbon Water Simulation</h3>
        <p>Artful fluid choreography and shading.</p>
      </div>
    </article>

    <!-- ====== VFX (vfx1..4) ====== -->
    <article class="card fade-in-up" data-category="vfx" tabindex="0">
      <img class="thumb" src="img25.jpg" alt="Cinematic explosion still">
      <div class="overlay"><button class="view" data-type="image" data-src="vfx1-large.jpg">View</button></div>
      <div class="card-body">
        <div class="meta">VFX ‚Ä¢ Compositing</div>
        <h3>Impact FX Still</h3>
        <p>Debris, sparks and cinematic grading.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="vfx" tabindex="0">
      <img class="thumb" src="img20.jpg" alt="Energy particle field still">
      <div class="overlay"><button class="view" data-type="image" data-src="vfx2-large.jpg">View</button></div>
      <div class="card-body">
        <div class="meta">VFX ‚Ä¢ FX</div>
        <h3>Particle Field</h3>
        <p>Stylized particle choreography and glow.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="vfx" tabindex="0">
      <video class="thumb" muted playsinline preload="metadata" src="Smoke effect.mp4"></video>
      <div class="overlay"><button class="view" data-type="video" data-src="vfx1.mp4">View</button></div>
      <div class="card-body">
        <div class="meta">VFX ‚Ä¢ Motion</div>
        <h3>Smoke Sequence</h3>
        <p>Realistic steam effect integrated into the footage.</p>
      </div>
    </article>

    <article class="card fade-in-up" data-category="vfx" tabindex="0">
      <video class="thumb" muted playsinline preload="metadata" src="Particle glow.mp4"></video>
      <div class="overlay"><button class="view" data-type="video" data-src="vfx2.mp4">View</button></div>
      <div class="card-body">
        <div class="meta">VFX ‚Ä¢ Motion</div>
        <h3>Energy Morph Reel</h3>
        <p>Morphing effects, volumetrics and glow passes.</p>
      </div>
    </article>

  </div> <!-- /grid -->

  <!-- FIXED LIGHTBOX -->
<div id="lightbox" class="lb" role="dialog" aria-modal="true" aria-hidden="true">
  <button class="close" aria-label="Close lightbox">‚úï</button>
  <div class="media" id="lightbox-media" aria-live="polite"></div>
</div>


<script>
  (function(){
    const filters = document.querySelectorAll('.filters button');
    const grid = document.getElementById('portfolioGrid');
    const cards = Array.from(grid.querySelectorAll('.card'));
    const lightbox = document.getElementById('lightbox');
    const lightboxMedia = document.getElementById('lightbox-media');
    const closeBtn = lightbox.querySelector('.close');

    // --- Filter logic ---
    filters.forEach(btn => {
      btn.addEventListener('click', () => {
        filters.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const key = btn.getAttribute('data-filter');

        // accessibility
        filters.forEach(b => b.setAttribute('aria-selected', b === btn ? 'true' : 'false'));

        cards.forEach(card => {
          const cats = card.getAttribute('data-category').split(',').map(s=>s.trim());
          if(key === 'all' || cats.includes(key)){
            card.style.display = ''; // shows
            // animate in
            requestAnimationFrame(()=> card.classList.add('in'));
          } else {
            card.style.display = 'none';
            card.classList.remove('in');
          }
        });
      });
    });

    // initialize: add .in to visible items for fade effect
    document.querySelectorAll('.fade-in-up').forEach((el, idx) => {
      setTimeout(()=> el.classList.add('in'), 80 * idx);
    });

    // ===== Video hover play/pause behavior =====
    // Each video element has data-src; we'll set src on hover to avoid heavy preloading.
    const videoThumbs = Array.from(grid.querySelectorAll('video.thumb'));
    videoThumbs.forEach(v => {
      v.addEventListener('mouseenter', async () => {
        if(!v.src){
          v.src = v.dataset.src; // set source lazily
        }
        try {
          v.muted = true;
          await v.play();
        } catch (err) {
          // autoplay blocked - ignore
        }
      });
      v.addEventListener('mouseleave', () => {
        try {
          v.pause();
          v.currentTime = 0;
        } catch(e){}
      });
      // also pause on focus out for keyboard
      v.addEventListener('blur', ()=>{ try{ v.pause(); v.currentTime = 0 } catch(e){} });
    });

    // For accessibility: allow Enter on card to open first media (image/video)
    cards.forEach(card => {
      card.addEventListener('keydown', (e) => {
        if(e.key === 'Enter') {
          const viewBtn = card.querySelector('.view');
          viewBtn && viewBtn.click();
        }
      });
    });

    // ===== Lightbox open/close =====
    function openLightbox(type, src){
      lightboxMedia.innerHTML = '';
      if(type === 'image'){
        const img = document.createElement('img');
        img.src = src;
        img.alt = '';
        lightboxMedia.appendChild(img);
      } else if(type === 'video'){
        const vid = document.createElement('video');
        vid.src = src;
        vid.controls = true;
        vid.autoplay = true;
        vid.muted = false;
        vid.playsInline = true;
        vid.style.maxHeight = '90vh';
        lightboxMedia.appendChild(vid);
        // attempt to play
        vid.play().catch(()=>{});
      }
      lightbox.classList.add('open');
      lightbox.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    }

    function closeLightbox(){
      lightbox.classList.remove('open');
      lightbox.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
      // remove media
      lightboxMedia.innerHTML = '';
    }

    // delegate click on view buttons
    grid.addEventListener('click', (e) => {
      const btn = e.target.closest('.view');
      if(!btn) return;
      const type = btn.getAttribute('data-type');
      const src = btn.getAttribute('data-src');
      if(type && src){
        openLightbox(type, src);
      }
    });

    closeBtn.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', (e) => {
      if(e.target === lightbox) closeLightbox();
    });
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape' && lightbox.classList.contains('open')) closeLightbox();
    });

    // Prevent background videos from playing when lightbox opens
    const observer = new MutationObserver(() => {
      if(lightbox.classList.contains('open')){
        videoThumbs.forEach(v => { try{ v.pause(); v.currentTime = 0 } catch(e){} });
      }
    });
    observer.observe(lightbox, { attributes: true, attributeFilter: ['class'] });

    // small progressive enhancement: if images/videos missing, show fallback
    // (optional: you can add placeholders or lazy load logic)
  })();
</script>

    <!-- PROCESS -->
    <section class="reveal">
      <h2 class="section-title">Our Process</h2>
      <p class="lead">We keep the pipeline transparent ‚Äî from idea to final delivery.</p>
      <div class="process">
        <div class="proc">
          <div class="icon">üß†</div>
          <h4>Brief & Concept</h4>
          <p class="muted" style="color:var(--muted)">We define goals, references and styleframes before production.</p>
        </div>
        <div class="proc">
          <div class="icon">üé®</div>
          <h4>Design & Asset Build</h4>
          <p class="muted" style="color:var(--muted)">Modeling, texturing and ligting with motion checks.</p>
        </div>
        <div class="proc">
          <div class="icon">‚öôÔ∏è</div>
          <h4>Simulation & Animation</h4>
          <p class="muted" style="color:var(--muted)">Fluid, particle and product animation crafted for realism.</p>
        </div>
        <div class="proc">
          <div class="icon">üé¨</div>
          <h4>Composite & Delivery</h4>
          <p class="muted" style="color:var(--muted)">Color-grading, Final  Composite with High Resolution Rendering.</p>
        </div>
      </div>
    </section>

    <!-- TESTIMONIALS -->
    <section class="reveal">
      <h2 class="section-title">Client Testimonials</h2>
      <div class="testimonials">
        <div class="testi">
          <div class="quote">‚ÄúMidex Studio transformed our product visuals the attention to detail was exceptional. Fast delivery and great communication.‚Äù</div>
          <div class="by">‚Äî Tony</div>
        </div>
        <div class="testi">
          <div class="quote">‚ÄúThe Simulation they made realy pushed us forward in sloving what we wee looking to create and the creative direction was spot on.‚Äù</div>
          <div class="by">‚ÄîAlex Trimpe</div>
        </div>
      </div>
    </section>

    <!-- BIG CTA -->
    <section class="reveal">
      <div class="big-cta">
        <h3>Ready to bring your ideas to life?</h3>
        <p style="color:rgba(0,0,0,0.7); max-width:820px; margin:10px auto 0">Contact us for a custom quote ‚Äî we handle everything from concept to final render.</p>
        <div style="margin-top:14px"><a href="contact.html">Start a Project ‚Üí</a></div>
      </div>
    </section>

  </main>

  <!-- LIGHTBOX -->
  <div id="lightbox" class="lb" aria-hidden="true">
    <button class="close" aria-label="Close lightbox">‚úï</button>
    <div class="media-wrap"><!-- img or video injected here --></div>
    <div class="meta"></div>
  </div>

    <!-- Footer -->
<footer class="footer">
  <div class="footer-inner">

  <!-- ---------- SCRIPTS: Filtering, Lightbox, Scroll Animations ---------- -->
  <script>
    // filtering
    const filterBtns = document.querySelectorAll('.filters button');
    const cards = document.querySelectorAll('#portfolio-grid .card');

    function setActive(btn){
      filterBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    }

    filterBtns.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        setActive(btn);
        const key = btn.dataset.filter;
        cards.forEach(card=>{
          const cats = card.dataset.category.split(',').map(s=>s.trim());
          if(key==='all' || cats.includes(key)){ card.style.display = ''; card.classList.remove('disabled'); }
          else { card.style.display = 'none'; card.classList.add('disabled'); }
        });
      });
    });

    // lightbox: open when clicking a card's overlay or the card itself
    const lightbox = document.getElementById('lightbox');
    const mediaWrap = lightbox.querySelector('.media-wrap');
    const meta = lightbox.querySelector('.meta');
    const closeBtn = lightbox.querySelector('.close');

    document.querySelectorAll('.card').forEach(card=>{
      card.addEventListener('click', (e)=>{
        // find image inside card
        const img = card.querySelector('img.thumb');
        if(!img) return;
        openLightbox(img.src, card.querySelector('h3')?.innerText || '');
      });
    });

    function openLightbox(src, caption=''){
      mediaWrap.innerHTML = '';
      meta.textContent = caption;
      // detect video url (simple heuristic) - in this example we use images
      if(src.includes('youtube') || src.includes('vimeo')){
        const iframe = document.createElement('iframe');
        iframe.src = src;
        iframe.style.width = '100%';
        iframe.style.height = '80vh';
        iframe.setAttribute('allowfullscreen','');
        mediaWrap.appendChild(iframe);
      } else {
        const img = document.createElement('img');
        img.src = src;
        mediaWrap.appendChild(img);
      }
      lightbox.classList.add('open');
      lightbox.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    }

    function closeLightbox(){
      lightbox.classList.remove('open');
      lightbox.setAttribute('aria-hidden','true');
      mediaWrap.innerHTML = '';
      meta.textContent = '';
      document.body.style.overflow = '';
    }

    closeBtn.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', (e)=>{
      if(e.target === lightbox) closeLightbox();
    });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeLightbox(); });

    // IntersectionObserver for .reveal elements
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){ entry.target.classList.add('in-view'); io.unobserve(entry.target); }
      });
    }, {threshold: 0.15});

    document.querySelectorAll('.reveal').forEach(el=> io.observe(el));

    // initial reveal for hero
    document.querySelectorAll('.reveal').forEach(el=>{
      // they start with class reveal; .in-view will be added by observer
    });

    // improve accessibility: allow keyboard nav to cards (open lightbox on Enter)
    document.querySelectorAll('.card').forEach(card=>{
      card.setAttribute('tabindex','0');
      card.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') { card.click(); } });
    });

  </script>
  <footer class="footer">
  <div class="footer-inner">

    <div class="footer-col">
      <h4>Midex Studio</h4>
      <p>Where imagination meets realism ‚Äî creating high-end 3D animation, visual effects, and product CGI that elevate brands.</p>
    </div>

    <div class="footer-col">
      <h4>Quick Links</h4>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="portfolio.html">Portfolio</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>

    <div class="footer-col">
      <h4>Services</h4>
      <ul>
        <li><a href="#">3D Product Animation</a></li>
        <li><a href="#">Fluid & Water Simulation</a></li>
        <li><a href="#">VFX & CGI Compositing</a></li>
        <li><a href="#">Jewelry CGI Rendering</a></li>
        <li><a href="#">Commercial Ad Animation</a></li>
      </ul>
    </div>

    <div class="footer-col">
      <h4>Connect</h4>
      <ul class="social-links">
        <li><a href="https://www.instagram.com/midexstudio?igsh=eDg2bXh3YnFlajdz" target="_blank">Instagram</a></li>
        <li><a href="https://www.fiverr.com/YOUR_FIVERR" target="_blank">Fiverr Profile</a></li>
        <li><a href="https://wa.me/+2349024217687" target="_blank">WhatsApp</a></li>
      </ul>
    </div>

  </div>

  <div class="footer-bottom">
    <p>¬© 2025 Midex Studio ‚Äî Crafted with Precision and Passion.</p>
  </div>
</footer>

<style>
.footer {
  background: #0b0b14;
  padding: 60px 20px 30px;
  color: #a8b0bd;
  border-top: 1px solid rgba(255,255,255,0.05);
  font-family: 'Poppins', sans-serif;
}
.footer-inner {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 40px;
}
.footer-col h4 {
  color: #ffd700;
  margin-bottom: 14px;
  font-size: 1.05rem;
}
.footer-col p {
  font-size: 0.95rem;
  line-height: 1.6;
}
.footer-col ul {
  list-style: none;
  margin: 0;
  padding: 0;
}
.footer-col ul li {
  margin-bottom: 8px;
}
.footer-col ul li a {
  color: #a8b0bd;
  text-decoration: none;
  transition: color 0.3s ease;
}
.footer-col ul li a:hover {
  color: #00fff5;
}
.footer .social-links a {
  display: inline-block;
  background: rgba(255,255,255,0.05);
  padding: 8px 14px;
  border-radius: 8px;
  margin-right: 8px;
  color: #fff;
  font-weight: 500;
}
.footer .social-links a:hover {
  background: linear-gradient(90deg,#00fff5,#00b3ff);
  color: #000;
}
.footer-bottom {
  text-align: center;
  margin-top: 40px;
  border-top: 1px solid rgba(255,255,255,0.05);
  padding-top: 18px;
  font-size: 0.9rem;
  color: #888;
}
</style>

</body>
</html>
